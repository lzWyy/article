# javascript正则表达式学习

## 正则语法：
```javascript
let reg = /pattern/ flags
```
其中，模式（`pattern`）部分可以使任何简单或复杂的正则表达式，可以包含字符类、限定符、分组、向前查找以及反向引用。

每个正则表达式可以带有一个或者多个标志（`flags`），用以标明正则表达式的行为，正则表达式支持下列3个标志：（如果多个标志同事使用时，则写成： gmi）

```
i   执行对大小写不敏感的匹配       
g   执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）
m   执行多行匹配，即在到达一行文本末尾时还会继续查找下一行是否存在与模式匹配的项
```
--------------------------------------------------
## 创建正则表达式
正则表达有两种方式：
```javascript
// RegExp对象。参数就是我们想要定制的规则。
let reg = new RegExp('a')
let reg = /a/  // 简写

// 【注意】: 当正则需要用到参数的时候，不能简写，必须要用全称。简写会把参数当做一个字符串去匹配。例如：（查找某个classname）
let reg = /\bclassname\b/    // 这样`classname`被当做字符串
let reg = new RegExp('\\b' + classname + '\\b')   // 正确写法
```
--------------------------------------------------
## 元字符
与其他语言中的正则表达式类似，模式中使用的所有元字符都必须转义。正则表达式中的元字符包括：
```
( [ { \ ^ $ | ) ? * + .] }
```
-------------------------------------------------
## () [] {} 的区别
```
  [abc] 查找方括号之间的任何字符
  [0-9] 查找任何从0到9的数字
  (x|y) 查找任何以 | 分隔的选项
```
() 的作用是提取匹配的字符串。表达式中有几个()就会得到几个相应的匹配字符串。比如 (\s+) 表示连续空格的字符串。

[] 是定义匹配的字符范围。比如 [a-zA-Z0-9] 表示字符文本要匹配英文字符和数字。

{} 一般用来表示匹配的长度，比如 \d{3} 表示匹配三个数字，\d{1,3} 表示匹配1~3个数字，\d{3,} 表示匹配3个以上数字。

------------------------------------------------
## ^ 和 $
^ 匹配一个字符串的开头，比如 (^a) 就是匹配以字母a开头的字符串

$ 匹配一个字符串的结尾,比如 (b$) 就是匹配以字母b结尾的字符串

^ 还有另个一个作用就是取反，比如[^xyz] 表示匹配的字符串不包含xyz

【注意问题】：
- 如果 ^ 出现在[ ] 中一般表示取反，而出现在其他地方则是匹配字符串的开头。
- ^ 和 $ 配合可以有效匹配完整字符串: /d+/.test('4xpt') -> true，而 /^\d+$/.test('4xpt')->false

------------------------------------------------
## 符号
```javascript
  . :  除了换行和回车之外的任意字符 [^\n]
  \s:  空格
  \S:  非空格
  \d:  数字    [0-9]
  \D:  非数字  [^0-9]
  \w:  匹配一个英文字母或数字。 [0-9a-zA-Z]
  \W： 非字符（是否有不是数字的字符）
```
------------------------------------------------
## 量词
```
  +       表示匹配前面元素1次或多次，比如 (\d+) 就是匹配由至少1个整数组成的字符串
  *       表示匹配前面元素0次或多次，比如 (\s*) 就是匹配0个或多个空格
  ?       匹配任何包含零个或一个, 比如(\w?) 就是匹配最多由1个字母或数字组成的字符串 
  {n}     对应零次或者n次
  {n, m}  至少出现n次但不超过m次
  {n,}    至少出现n次（ + 的升级版）
```

```
  n+      匹配任何包含至少一个n的字符串
  n*      匹配任何包含零个或多个n的字符串
  n?      匹配任何包含零个或一个n的字符串
  {n}     对应零次或者n次
  {n, m}  至少出现n次但不超过m次
  {n,}    至少出现n次（ + 的升级版）
```
```javascript
let reg = /1[358][0-9]{8}/g
reg.test('13545325392')
```
-------------------------------------------------
## $1 和 \1
$1-$9 存放着正则表达式中最近的9个正则表达式的提取的结果，这些结果按照子匹配的出现顺序依次排列。基本语法是：RegExp.$n ，这些属性是静态的，除了replace中的第二个参数可以省略 RegExp 之外，其他地方使用都要加上 RegExp 。
```javascript
//使用RegExp访问
/(\d+)-(\d+)-(\d+)/.test("2016-03-26")
  
RegExp.$1  // 2016
RegExp.$2  // 03
RegExp.$3  // 26
 
//在replace中使用
"2016-03-26".replace(/(\d+)-(\d+)-(\d+)/,"$1年$2月$3日") 
// 2016年03月26日
```
\1 表示后向引用，是指在正则表达式中，从左往右数，第1个()中的内容，以此类推，\2表示第2个()，\0表示整个表达式。
```javascript
//匹配日期格式，表达式中的\1代表重复(\-|\/|.)
var rgx = /\d{4}(\-|\/|.)\d{1,2}\1\d{1,2}"/
 
rgx.test("2016-03-26")  // true 
 
rgx.test("2016-03.26")  // false
```
两者的区别是： \n只能用在表达式中，而$n只能用在表达式之外的地方

--------------------------------------------------
## 方法
`test()`
-
- 用于检测一个字符串是否匹配某个模式，如果字符串含有匹配的文本，则返回`true`,否则返回`false` .
```javascript
let reg = /wor/
let str = 'hello world'
reg.test(str)  // true
```
`exec()`
-
- 用于检索字符串中的正则表达式的匹配。改函数返回一个数组，其中存放匹配的结果，如果未找到匹配，则返回值为`null`
```
```

`search()`
-
- 用于检索字符串中指定的字符串，或检索与正则表达式相匹配的字符串，并返回子串的起始位置，若没有查到，则返回 -1。
```javascript
let str = 'longzhou'
let reg1 = /gzh/
let reg2 = /ggh/
str.search(reg1)  //   3
str.search(reg2)  //  -1
```


`replace()`
-
-  用于在字符串中用一些字符替换另一些字符，或替换一个与正则表达式匹配的子串。
```javascript
let str = 'longzhou'
let reg = /gzH/i
let t = str.replace(reg, 'eee')    // loneeeou
```
